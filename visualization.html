<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/styles.css">
        <script src="js/scripts.js" type="text/javascript" ></script>
        <script>
            //Do not modify code in this script block!
            statisticsGlobals = new Global(
                function(){
                    window.carbonFootPrint = 0;
                    window.city = [];
                    window.rules = [];
                    window.updaters = [];
                    window.ruleCount = 0;
                    window.updaterCount = 0;
                    window.delta = 1000;
                    window.inputCellSize = 15;
                }
            )
        </script>
        <script>
            // READ DIRECTIONS BEFORE ADDING CUSTOM CODE

            // Use custom map here, format is a 2d array of integers
            /*  e.g.
             *  city = [[0, 0, 0],
                        [0, 0, 0]
                        [0, 0, 0]]
             */
            city = [];

            /* In your code you may assume the following variables:  * * * * * * * * * * * * * * * * *
             *      city[row][col]                                                                   *
             *      rules[i]    Rule array, stores all rules                                         *
             *      updaters[i] Updater array, stores all updaters                                   *
             *      timer       int, stores how many ticks of delta length have passed               *
             *      delta       float, length of time in ms to wait between updates                  *
             *                                                                                       *
             *      ***********                                                                      *
             *      *IMPORTANT*                                                                      *
             *      ***************************************************************************      *
             *      * 1. Updaters/Rules should be made with no expectation of execution order *      *
             *      * 2. Globals should be prefix'd with your decided unique module name      *      *
             *      ***************************************************************************      *
             * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

            // INITIALIZE GLOBALS (Create variables you can use in updaters/conditional rules)

            lightsGlobals = new Global(
                function(){
                    window.lightsModuleTotalTime = 0;
                }
            )

            // INITIALIZE UPDATERS (Runs every tick)

            // INITIALIZE CONDITIONAL RULES (Logic that is checked on every cell)
            /*
            turnLightsOn = new Rule(
                function(x, y){
                    rv = []
                    if(city[x][y] === 1){
                        rv[0] = true;
                    }
                }
            );

            turnLightsOff = new Rule(
                function(){
                    rv = []
                    if(city[x][y] === 2){
                        rv[0] = true;
                    }
                }
            )
            */
            // Board setup
            if(city.length > 0){
                setCity(city);
            }else{
                generateBoard();
            }
        </script>
    </head>
    <body>
        <p id="timer"></p>
        <table id="inputs">

        </table>
        <!-- This area will be filled by scripts.js -->
        <table id="visualizer"></table>
        <table id="stats"></table>
    </body>  
    <script>
        //active code goes here
        drawBoard();
    </script>
</html>